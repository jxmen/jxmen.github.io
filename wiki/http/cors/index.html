<!DOCTYPE html>
<html>
    <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- 참고: https://jekyllrb.com/docs/liquid/filters/ -->
    <title>CORS - 박주영의 위키</title>

    <meta name="description" content="Cross Origin Resource Sharing">
    <meta name="google-site-verification" content="xD2UvBTOH6xxBi9MseahHz4Nt9u2vYZbgY2wVo7Bdyc">

    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="https://jxmen.github.io/wiki/http/cors/">
    <link rel="alternate" type="application/rss+xml" title="박주영의 위키" href="https://jxmen.github.io/feed.xml">

    <meta property="og:type" content="website">
    <meta property="og:title" content="CORS">
    <meta property="og:description" content="Cross Origin Resource Sharing">
    <!---
    <meta property="og:image" content="https://jxmen.github.io/resource/johngrib.png">
    -->
    <meta property="og:url" content="https://jxmen.github.io/wiki/http/cors/">

    <meta name="google-site-verification" content="IoNEKzwdxuYHx0g2nEWusOJ2kK0ompxgUZ-evn27Vlk">

    <!--- 
        <meta name="twitter:card" content="summary" />
        <meta name="twitter:site" content="@" />
        <meta name="twitter:url" content="https://jxmen.github.io/wiki/http/cors/" />
        <meta name="twitter:title" content="CORS" />
        <meta name="twitter:description" content="Cross Origin Resource Sharing" />
    --->

    <!---
    <link rel="apple-touch-icon" sizes="57x57"        href="/resource/icon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60"        href="/resource/icon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72"        href="/resource/icon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76"        href="/resource/icon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114"      href="/resource/icon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120"      href="/resource/icon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144"      href="/resource/icon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152"      href="/resource/icon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180"      href="/resource/icon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/resource/icon/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32"   href="/resource/icon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96"   href="/resource/icon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16"   href="/resource/icon/favicon-16x16.png">
    <link rel="manifest" href="/resource/icon/manifest.json">
    --->
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/resource/icon/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">




</head>
<body>
<header class="header">
    <div>
        <a class="site-title" href="/">박주영의 위키</a>
    </div>
    <div>
        <a class="site-title-right" href="/about/">me</a>
    </div>
    <div>
        <a id="random-button" class="site-title-right">random</a>
    </div>
    <div>
        <!---<a class="site-title-right" href="/wiki/root-index/">index</a> --->
        <a class="site-title-right" href="/wiki/index/">index</a>
    </div>
</header>
<script async src="/js/shortcut.js"></script>

    
        <div class="page-content">
            <div class="search">
    <form role="search" method="get" action="/search/">
         <input name="searchString" class="searchInput" placeholder=" 검색하세요" type="text">
         <input type="submit" class="searchButton" value="Search">
    </form>
</div>
            <div class="post">
                
<input type="hidden" id="thisName" value="http/cors">
<div class="post">
    <header class="post-header">
        <h1 class="page-title">
            <a href="/wiki/http/cors/"> CORS </a>
        </h1>
    
        <p class="title-summary">Cross Origin Resource Sharing</p>
    
        <div class="history-button">
            <p><a href="https://github.com/jxmen/jxmen.github.io/blame/main/_wiki/http/cors.md" target="_blank">created: 2024.02.28</a></p>
            <p><a href="https://github.com/jxmen/jxmen.github.io/blame/main/_wiki/http/cors.md" target="_blank">updated: 2024.02.28</a></p>
            <p>
                <a href="https://github.com/jxmen/jxmen.github.io/edit/main/_wiki/http/cors.md">편집하기</a>
                /
                <a href="https://github.com/jxmen/jxmen.github.io/issues/new?title=CORS&body=%EC%9D%98%EA%B2%AC%EC%9D%84%20%EB%82%A8%EA%B2%A8%EC%A3%BC%EC%84%B8%EC%9A%94">의견 남기기</a>
            </p>
        </div>

        <div id="parent-list"></div>



    <div class="post-tag">
    cors
</div>




    </header>
    <article class="post-content">
        <ul id="markdown-toc">
  <li><a href="#cors%EB%9E%80" id="markdown-toc-cors란">CORS란</a></li>
  <li><a href="#%EA%B3%BC%EC%A0%95" id="markdown-toc-과정">과정</a></li>
  <li><a href="#cors-%EC%9A%94%EC%B2%AD%EC%9D%91%EB%8B%B5-%ED%97%A4%EB%8D%94" id="markdown-toc-cors-요청응답-헤더">CORS 요청/응답 헤더</a></li>
  <li><a href="#%EB%8B%A8%EC%88%9C-%EC%9A%94%EC%B2%AD-simple-request" id="markdown-toc-단순-요청-simple-request">단순 요청 (Simple Request)</a></li>
  <li><a href="#%EC%B0%B8%EA%B3%A0" id="markdown-toc-참고">참고</a></li>
</ul>

<h3 id="cors란">CORS란</h3>

<p>CORS(cross origin resource sharing)는 다른 출처의 리소스를 허용하기 위해 만들어진 정책이다.</p>

<p>여러 서비스들과 연동이 필요해지면서 다른 출처의 자원들도 필요하기 시작했고, 서버에서 허용 시 일부 자원을 쓸 수 있도록 허용하는 정책이다.</p>

<ul>
  <li>CORS가 등장하기 전에는 SOP(same origin policy)라는 것을 통해 동일한 출처에 대한 자원 요청만을 허용했다.</li>
</ul>

<p>CORS는 조건이 충족되지 않을 경우 브라우저가 서버에게 실제 요청이 가지 않도록 설계되었다. 자원을 변경하는 요청의 경우 이미 요청을 보내고 브라우저 상에서 에러를 발생해도 서버 상에서 이미 자원이 변경된 상태가 되기 때문이다.</p>
<h3 id="과정">과정</h3>

<p>OPTIONS 메서드를 통해 Preflight 요청을 먼저 보내고, 실제 요청을 보낸다.</p>

<p><img class="mermaid" src="https://mermaid.ink/svg/eyJjb2RlIjoic2VxdWVuY2VEaWFncmFtXG5jbGllbnQtPj5zZXJ2ZXI6IHByZWZsaWdodCDsmpTssq0gKE9QVElPTlMgL3BhdGgpXG5zZXJ2ZXItPj5jbGllbnQ6IHByZWZsaWdodCDsmpTssq3sl5Ag64yA7ZWcIOydkeuLtVxuY2xpZW50LT4-c2VydmVyOiDsi6TsoJwg7JqU7LKtXG5zZXJ2ZXItPj5jbGllbnQ6IOyLpOygnCDsmpTssq3sl5Ag64yA7ZWcIOydkeuLtSIsIm1lcm1haWQiOm51bGx9"></p>

<h3 id="cors-요청응답-헤더">CORS 요청/응답 헤더</h3>

<p>CORS 요청, 응답 시 마다 Header를 서로 주고받는다.</p>

<p>request</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Origin: &lt;origin&gt;
</code></pre></div></div>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">Origin</code>: PreFilight 요청의 Origin 주소</li>
</ul>

<p>response</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Access-Control-Allow-Origin: https://mozilla.org
Access-Control-Allow-Methods: GET, POST
Access-Control-Allow-Headers: X-PINGOTHER, Content-Type
Access-Control-Max-Age: 86000
</code></pre></div></div>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">Access-Control-Allow-Origin</code>: 서버가 허용할 주소</li>
  <li>
<code class="language-plaintext highlighter-rouge">Access-Control-Allow-Methods</code>: 서버가 허용할 HTTP 메서드들</li>
  <li>
<code class="language-plaintext highlighter-rouge">Access-Control-Allow-Headers</code>: 서버가 허용할 HTTP Header들</li>
  <li>
<code class="language-plaintext highlighter-rouge">Access-Control-Max-Age</code>: PreFlight 요청을 얼마동안 캐시할 지</li>
</ul>

<h3 id="단순-요청-simple-request">단순 요청 (Simple Request)</h3>

<p>일부 조건 충족 시 CORS Preflight 요청을 보내지 않는다. <a href="https://developer.mozilla.org/ko/docs/Web/HTTP/CORS#%EB%8B%A8%EC%88%9C_%EC%9A%94%EC%B2%ADsimple_requests">(문서 참고)</a></p>

<h3 id="참고">참고</h3>

<ul>
  <li><a href="https://developer.mozilla.org/ko/docs/Web/HTTP/CORS">https://developer.mozilla.org/ko/docs/Web/HTTP/CORS</a></li>
  <li><a href="https://www.youtube.com/watch?v=-2TgkKYmJt4">https://www.youtube.com/watch?v=-2TgkKYmJt4</a></li>
  <li><a href="https://hannut91.github.io/blogs/infra/cors">https://hannut91.github.io/blogs/infra/cors</a></li>
</ul>

    </article>


    
<div class="giscus"></div>
<div class="post-comments">
  <script src="https://giscus.app/client.js" data-repo="jxmen/jxmen.github.io" data-repo-id="R_kgDOLKyoHA" data-category="Comments" data-category-id="DIC_kwDOLKyoHM4CdGSe" data-mapping="pathname" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="bottom" data-theme="noborder_light" data-lang="ko" crossorigin="anonymous" async></script>
</div>




</div>
<script async src="/js/create-link.js"></script>


<script async>
    ;(function() {
        const tableList = document.querySelectorAll('.table-generate');

        if (tableList == null) {
            return;
        }

        for (let i = 0; i < tableList.length; i++) {
            const ul = tableList[i];
            const draw = {
                th: '',
                td: ''
            };

            const rows = ul.children;
            for (let j = 0; j < rows.length; j++) {
                const row = rows[j].children[0];
                const columns = row.children;
                const isHeader = /^th/.test(rows[j].innerHTML);
                const colTag = isHeader ? 'th' : 'td';

                let colData = '';
                for (let k = 0; k < columns.length; k++) {
                    const column = columns[k];
                    const content = column.innerHTML;
                    colData += `<${colTag}>${content}</${colTag}>`;
                }

                const trHtml = `<tr>${colData}</tr>`

                draw[colTag] += trHtml;
            }

            const result = `
                <table>
                    <thead>${draw.th}</thead>
                    <tbody>${draw.td}</tbody>
                </table>`

            const targetId = ul.getAttribute('data-target-id');
            document.getElementById(targetId).innerHTML = result;
            ul.remove();
        }
    })();
    ;(function() {
        const source = document.querySelectorAll('.dynamic-insert');

        if (source == null) {
            return;
        }

        for (let i = 0; i < source.length; i++) {
            const item = source[i];

            const target = item.getAttribute('data-target-selector');
            document.querySelector(target).innerHTML = item.outerHTML;
            item.remove();
        }
    })();
</script>


<script async src="/js/parent.js"></script>
<script async src="/js/toc-highlight.js"></script>

            </div>
        </div>
        <footer class="footer">
    <div>

    </div>

</footer>
    
</body>
</html>
